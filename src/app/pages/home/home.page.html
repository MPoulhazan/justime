<ion-content class="home-container">

    <!-- Loading stops -->
    <ion-backdrop *ngIf="isLoadingStops" class="backdrop"></ion-backdrop>
    <ion-spinner *ngIf="isLoadingStops" name="crescent" class="backdrop-spinner" color="light"></ion-spinner>

    <!-- Loading cards -->
    <app-loading *ngIf="false" [isCard]="true" [numberOfRows]="2"></app-loading>


    <form [formGroup]="stopsFormGroup" (ngSubmit)="submitStops()" #formtwo="ngForm" class="form-container">
        <mat-form-field>
            <input type="text" formControlName="stop" placeholder="Quel arrÃªt ?" aria-label="Number" matInput
                [matAutocomplete]="auto" (input)="onInputChange($event.target.value)">
            <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete"  (optionSelected)='submitStops()'>
                <mat-option *ngFor="let option of stopsFiltered" [value]="option.libelle">
                    {{option.libelle}}
                </mat-option>
            </mat-autocomplete>
        </mat-form-field>
    </form>

    <ion-grid>
        <ion-row class="ion-align-items-center">
            <ion-col size="12">
                <app-card-bus *ngFor="let itBusCard of finalBusCardAtStop" [busCard]="itBusCard"></app-card-bus>
            </ion-col>
        </ion-row>
    </ion-grid>


</ion-content>